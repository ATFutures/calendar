<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create, Read, Write, and Work with iCalander Files, Calendars and
    Scheduling Data • calendar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create, Read, Write, and Work with iCalander Files, Calendars and
    Scheduling Data">
<meta property="og:description" content="Provides function to create, read, write, and work with
    iCalander files (which typically have .ics or .ical extensions),
    and the scheduling data, calendars and timelines of people,
    organisations and other entities that they represent.  iCalendar is
    an open standard for exchanging calendar and scheduling information
    between users and computers, described at &lt;https://icalendar.org/&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">calendar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ical-creating-calendars.html">Creating calendars with calendar</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/atfutures/calendar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<p><a href="https://codecov.io/github/ATFutures/calendar?branch=master"><img src="https://codecov.io/gh/ATFutures/calendar/branch/master/graph/badge.svg" alt="Coverage status"></a> <!-- README.md is generated from README.Rmd. Please edit that file --> <!-- badges: end --></p>
<div id="calendar" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#calendar" class="anchor"></a>calendar</h1></div>
<p>The goal of calendar is to make it easy to create, read, write, and work with iCalander (<code>.ics</code>, <code>.ical</code> or similar) files, and the scheduling data they represent, in R. iCalendar is an open standard for “exchanging calendar and scheduling information between users and computers” described at <a href="https://icalendar.org/">icalendar.org</a> (the full spec can be found in a plain text file <a href="https://tools.ietf.org/rfc/rfc5545.txt">here</a>).</p>
<p>Recently the UK Government endorsed the iCal format in a <a href="https://www.gov.uk/government/publications/open-standards-for-government/exchange-of-calendar-events">publication</a> for the ‘Open Standards for Government’ series. <a href="https://www.gov.uk/bank-holidays/england-and-wales.ics">An example .ics file</a> is provided by the .gov.uk domain, which shows holidays in England and Wales.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"calendar"</span><span class="op">)</span></code></pre></div>
<p>Or install the cutting edge from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ATFutures/calendar"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/atfutures/calendar">calendar</a></span><span class="op">)</span></code></pre></div>
<!-- You can install the released version of calendar from [CRAN](https://CRAN.R-project.org) with: -->
<!-- ``` r -->
<!-- install.packages("calendar") -->
<!-- ``` -->
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>A minimal example representing the contents of an iCalendar file is provided in the dataset <code>ical_example</code>, which is loaded when the package is attached. This is what iCal files look like:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ical_example</span>
<span class="co">#&gt;  [1] "BEGIN:VCALENDAR"                                  </span>
<span class="co">#&gt;  [2] "PRODID:-//Google Inc//Google Calendar 70.9054//EN"</span>
<span class="co">#&gt;  [3] "VERSION:2.0"                                      </span>
<span class="co">#&gt;  [4] "CALSCALE:GREGORIAN"                               </span>
<span class="co">#&gt;  [5] "METHOD:PUBLISH"                                   </span>
<span class="co">#&gt;  [6] "X-WR-CALNAME:atf-test"                            </span>
<span class="co">#&gt;  [7] "X-WR-TIMEZONE:Europe/London"                      </span>
<span class="co">#&gt;  [8] "BEGIN:VEVENT"                                     </span>
<span class="co">#&gt;  [9] "DTSTART:20180809T160000Z"                         </span>
<span class="co">#&gt; [10] "DTEND:20180809T163000Z"                           </span>
<span class="co">#&gt; [11] "DTSTAMP:20180810T094100Z"                         </span>
<span class="co">#&gt; [12] "UID:1119ejg4vug5758527atjcrqj3@google.com"        </span>
<span class="co">#&gt; [13] "CREATED:20180807T133712Z"                         </span>
<span class="co">#&gt; [14] "DESCRIPTION:\\n"                                  </span>
<span class="co">#&gt; [15] "LAST-MODIFIED:20180807T133712Z"                   </span>
<span class="co">#&gt; [16] "LOCATION:"                                        </span>
<span class="co">#&gt; [17] "SEQUENCE:0"                                       </span>
<span class="co">#&gt; [18] "STATUS:CONFIRMED"                                 </span>
<span class="co">#&gt; [19] "SUMMARY:ical programming mission"                 </span>
<span class="co">#&gt; [20] "TRANSP:OPAQUE"                                    </span>
<span class="co">#&gt; [21] "END:VEVENT"                                       </span>
<span class="co">#&gt; [22] "END:VCALENDAR"</span></code></pre></div>
<p>Relevant fields can be found and extracted as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="reference/ic_find.html">ic_find</a></span><span class="op">(</span><span class="va">ical_example</span>, <span class="st">"TSTAMP"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 11</span>
<span class="fu"><a href="reference/ic_extract.html">ic_extract</a></span><span class="op">(</span><span class="va">ical_example</span>, <span class="st">"TSTAMP"</span><span class="op">)</span>
<span class="co">#&gt; [1] "D20180810T094100Z"</span></code></pre></div>
<p>A larger example shows all national holidays in England and Wales. It can be read-in as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ics_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"england-and-wales.ics"</span>, package <span class="op">=</span> <span class="st">"calendar"</span><span class="op">)</span>
<span class="va">ics_raw</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">ics_file</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ics_raw</span><span class="op">)</span> <span class="co"># check it's in the ICS format</span>
<span class="co">#&gt; [1] "BEGIN:VCALENDAR"                     </span>
<span class="co">#&gt; [2] "VERSION:2.0"                         </span>
<span class="co">#&gt; [3] "METHOD:PUBLISH"                      </span>
<span class="co">#&gt; [4] "PRODID:-//uk.gov/GOVUK calendars//EN"</span>
<span class="co">#&gt; [5] "CALSCALE:GREGORIAN"                  </span>
<span class="co">#&gt; [6] "BEGIN:VEVENT"</span></code></pre></div>
<p>A list representation of the calendar can be created using <code><a href="reference/ic_list.html">ic_list()</a></code> as follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ics_list</span> <span class="op">=</span> <span class="fu"><a href="reference/ic_list.html">ic_list</a></span><span class="op">(</span><span class="va">ics_raw</span><span class="op">)</span>
<span class="va">ics_list</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "DTEND;VALUE=DATE:20120103"                    </span>
<span class="co">#&gt; [2] "DTSTART;VALUE=DATE:20120102"                  </span>
<span class="co">#&gt; [3] "SUMMARY:New Year’s Day"                       </span>
<span class="co">#&gt; [4] "UID:ca6af7456b0088abad9a69f9f620f5ac-0@gov.uk"</span>
<span class="co">#&gt; [5] "SEQUENCE:0"                                   </span>
<span class="co">#&gt; [6] "DTSTAMP:20180806T114130Z"                     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "DTEND;VALUE=DATE:20120407"                    </span>
<span class="co">#&gt; [2] "DTSTART;VALUE=DATE:20120406"                  </span>
<span class="co">#&gt; [3] "SUMMARY:Good Friday"                          </span>
<span class="co">#&gt; [4] "UID:ca6af7456b0088abad9a69f9f620f5ac-1@gov.uk"</span>
<span class="co">#&gt; [5] "SEQUENCE:0"                                   </span>
<span class="co">#&gt; [6] "DTSTAMP:20180806T114130Z"</span></code></pre></div>
<p>A data frame representing the calendar can be created as follows (work in progress):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ics_df</span> <span class="op">=</span> <span class="fu"><a href="reference/ic_read.html">ic_read</a></span><span class="op">(</span><span class="va">ics_file</span><span class="op">)</span> <span class="co"># read it in</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ics_df</span><span class="op">)</span> <span class="co"># check the results</span>
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;   `DTEND;VALUE=DAT… `DTSTART;VALUE=D… SUMMARY     UID          SEQUENCE DTSTAMP </span>
<span class="co">#&gt;   &lt;date&gt;            &lt;date&gt;            &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;   </span>
<span class="co">#&gt; 1 2012-01-03        2012-01-02        New Year’s… ca6af7456b0… 0        2018080…</span>
<span class="co">#&gt; 2 2012-04-07        2012-04-06        Good Friday ca6af7456b0… 0        2018080…</span>
<span class="co">#&gt; 3 2012-04-10        2012-04-09        Easter Mon… ca6af7456b0… 0        2018080…</span>
<span class="co">#&gt; 4 2012-05-08        2012-05-07        Early May … ca6af7456b0… 0        2018080…</span>
<span class="co">#&gt; 5 2012-06-05        2012-06-04        Spring ban… ca6af7456b0… 0        2018080…</span>
<span class="co">#&gt; 6 2012-06-06        2012-06-05        Queen’s Di… ca6af7456b0… 0        2018080…</span></code></pre></div>
<p>What class is each column?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span><span class="op">(</span><span class="va">ics_df</span>, <span class="va">class</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html">character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   DTEND;VALUE=DATE DTSTART;VALUE=DATE            SUMMARY                UID </span>
<span class="co">#&gt;             "Date"             "Date"        "character"        "character" </span>
<span class="co">#&gt;           SEQUENCE            DTSTAMP </span>
<span class="co">#&gt;        "character"        "character"</span></code></pre></div>
</div>
<div id="trying-on-calendars-in-the-wild" class="section level2">
<h2 class="hasAnchor">
<a href="#trying-on-calendars-in-the-wild" class="anchor"></a>Trying on calendars ‘in the wild’</h2>
<p>To make the package robust we test on a wide range of ical formats. Here’s an example from my work calendar, for example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_cal</span> <span class="op">=</span> <span class="fu"><a href="reference/ic_dataframe.html">ic_dataframe</a></span><span class="op">(</span><span class="va">ical_outlook</span><span class="op">)</span>
<span class="va">my_cal</span><span class="op">$</span><span class="va">SUMMARY</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; [1] "In Budapest for European R Users Meeting (eRum) conference"</span>
<span class="co"># calculate the duration of the European R users meeting event:</span>
<span class="va">my_cal</span><span class="op">$</span><span class="va">`DTEND;VALUE=DATE`</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">my_cal</span><span class="op">$</span><span class="va">`DTSTART;VALUE=DATE`</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; Time difference of 4 days</span></code></pre></div>
<!-- An example from the wild: -->
</div>
<div id="related-projects" class="section level2">
<h2 class="hasAnchor">
<a href="#related-projects" class="anchor"></a>Related projects</h2>
<ul>
<li>A Python package for working with ics files: <a href="https://github.com/ics-py/ics-py" class="uri">https://github.com/ics-py/ics-py</a>
</li>
<li>A JavaScript package by Mozilla: <a href="https://github.com/mozilla-comm/ical.js/" class="uri">https://github.com/mozilla-comm/ical.js/</a>
</li>
<li>Ruby library: <a href="https://github.com/icalendar/icalendar" class="uri">https://github.com/icalendar/icalendar</a>
</li>
<li>The ical R package on CRAN for reading .ics files: <a href="https://github.com/petermeissner/ical" class="uri">https://github.com/petermeissner/ical</a>
</li>
</ul>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=calendar">https://​cloud.r-project.org/​package=calendar</a>
</li>
<li>Browse source code at <br><a href="https://github.com/atfutures/calendar/">https://​github.com/​atfutures/​calendar/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/atfutures/calendar/issues">https://​github.com/​atfutures/​calendar/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2.0)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Robin Lovelace <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5679-6536" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Layik Hama <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1912-4890" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ATFutures/calendar/actions"><img src="https://github.com/ATFutures/calendar/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://www.r-pkg.org:443/pkg/calendar"><img src="http://www.r-pkg.org/badges/version/calendar"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="The API of a maturing package has been roughed out, but finer details likely to change."></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Robin Lovelace, Layik Hama.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
